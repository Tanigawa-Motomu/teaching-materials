####	(6)　__演算子__  
#####	(6)-1　演算子について  
Rubyにおいての演算子は、キーワードのようなものではなく全てメソッドです。  
そのため、一部を除いて自分で再定義することも出来ます。  
また、使えない演算子を選択して実行した場合には、メソッドに関するエラーが発生するので注意しましょう。  

#####	(6)-2　結合の優先順位  
演算子が複数ある場合には、以下の様に結合する順番が決まっています。  
この優先順位によっては、プログラムの挙動が自分の意図とズレることもありますので、意識するようにしておきましょう。  
```rb
高い

::
[]
+(単項)  !  ~
**
-(単項)
*  /  %
+  -
<< >>
&
|  ^
> >=  < <=
<=> ==  === !=  =~  !~
&&
||
..  ...
?:(条件演算子)
=(+=, -= ... )
not
and or

低い
```

例）
```rb
a && b || c   #=> (a && b) || c
a || b && c   #=>  a || (b && c)
```

- `a && b || c`
	- `&&` は `||` よりも優先順位が高いので、まず `(a && b)` が評価されます。
	- 次に `(a && b) || c` が評価されます。

- `a || b && c`
	- `&&` は `||` よりも優先順位が高いので、まず `(b && c)` が評価されます。
	- 次に `a || (b && c)` が評価されます。

考え方は数学の乗算が加算よりも優先されるのと同じように考えるとよいでしょう。


#### (7)　__条件分岐__  
#####	(7)-1　if  
##### ①　通常の使用例
```rb
# if 条件式 (then)
#   trueの時に実行する処理
# end

num = 10

if num == 10
	puts "OK"
end
```

##### ②　それ以外の条件がある場合
```rb
# if 条件式 (then)
#   trueの時に実行する処理
# else
#   falseの時に実行する処理
# end

num = 100

if num < 10
	puts "OK"
else
	puts "NG"
end
```
##### ③　複数の条件がある場合
```rb
# else → elsif　条件式

num = 1

if num < 0
	puts "zero"
elsif num == 1
	puts "one"
else
	puts num
end
```
##### ④　後置if
```rb
# trueの時に実行する処理 if 条件式

puts "OK" if true
```
##### ⑤　三項演算子
```rb
#条件式 ? trueの場合の値 : falseの場合の値

num = 5
result = num > 0 ? "positive" : "negative"
puts result
```

##### (7)-2　unless  
##### ・通常の使用例
```rb
# unless 条件式 (then)
#   falseの時に実行する処理
# else
#   trueの時に実行する処理
# end

unless false
	puts "OK"
else
	puts "NG"
end
```

##### (7)-3　case  
##### ・複数条件がある場合の条件分岐（他言語でいうswitch文）  
```rb
# case 評価対象
# when 値1 (then)
#   値1と一致した場合に実行する処理
# when 値2 (then)
#   値2と一致した場合に実行する処理
# else
#   どの値にも一致しない場合に実行する処理
# end

num = 1

case num
when 0
	puts "zero"
when 1
	puts "one"
when 2, 3, 5, 7  # 条件は複数指定することも出来る
	puts "prime"
when 100..1000   # 範囲オブジェクトで指定することも出来る
	puts "over 100"
else
	puts "unknown"
end
```

####	(8)　__繰り返し__  
#####	(8)-1　while  
#####	①　条件が一致している間は繰り返す
```rb
# while 条件式 (do)
#   条件が一致した場合実行する処理
# end

arr = []

# 配列のサイズが、3より小さい間は処理を実行する
while arr.size < 3
	arr << "hoge"
end

p arr  #=> ["hoge", "hoge", "hoge"]
```
#####	②　if等と同じように1行でも使用できる
```rb
arr = []

# 配列のサイズが、3より小さい間は処理を実行する
arr << "hoge" while arr.size < 3

p arr  #=> ["hoge", "hoge", "hoge"]
```

#####	(8)-2　times  
#####	・　指定の回数だけ繰り返す
```rb
# 繰り返し回数.times do
#   実行する処理
# end
5.times do
	puts "OK"
end

#---実行結果---
#=> OK
#=> OK
#=> OK
#=> OK
#=> OK
```

#####	(8)-3　each  
#####	・　対象のデータを一つずつ取り出しながら、その数だけ繰り返す
```rb
# 対象のデータ.each do |引数|
#   実行する処理
# end

numbers = [1, 2, 3, 4, 5]

# 配列 numbers の要素の数だけ繰り返す
# 繰り返し毎に、取り出した要素が num に格納される
numbers.each do |num|
	puts num
end

#---実行結果---
#=> 1
#=> 2
#=> 3
#=> 4
#=> 5
```

そのほかにも`for`や`until`、`upto`など様々なループ処理のメソッドがありますので是非とも調べてみてください。  

__【インクリメント】__  
繰り返しをするときにはしばしば、インクリメントという操作を行います。  
インクリメントは数値や変数の値を1つ増やす操作を意味します。  
以下の方法でインクリメントを行います。
1. `+=`演算子を使用して、変数に特定の値を加算します。
2. `succ`メソッドを使用して、数値や文字を1つ増やします。

```rb
# 方法1: += 演算子を使用
x = 5
x += 1
puts x  # 出力: 6

# 方法2: succ メソッドを使用
str = "a"
str = str.succ
puts str  # 出力: "b"
```

####	(9)　__メソッド__  
#####	(9)-1　メソッドについて  
Rubyにおけるメソッドは、レシーバによって大きく3種類に分けられます。  

#####	①　インスタンスメソッド  
・インスタンスをレシーバに指定して実行する
#####	②　クラスメソッド
・クラスをレシーバに指定して実行する
#####	③　プライベートメソッド
・レシーバを指定せずに実行する  

ちなみにレシーバとは、メソッドを実行する際のターゲットになるオブジェクトです。  
例えば、以下のeachメソッドであれば、numbersがレシーバになります。  
```rb
numbers.each do |num|
	puts num
end
```

#### 引数と戻り値
メソッドには引数と戻り値という重要な概念があります。
- 引数：メソッドに渡される値のことです。メソッドを呼び出す際に、引数を指定することでメソッド内の処理に必要な情報を提供します。引数はメソッドの定義で指定され、メソッド内でその値にアクセスすることができます。  

例えば、以下の`add`メソッドは2つの引数を受け取り、それらを足して結果を返します。  
```rb
def add(x, y)
  return x + y
end

result = add(3, 5)  # 3と5を引数として渡してメソッドを呼び出す
puts result  #=> 8
```
上記の例では、`add`メソッドが2つの引数`x`と`y`を受け取り、それらを足して結果を返しています。  

- 戻り値：メソッドが実行された後に返される値のことです。メソッドは最後に評価された式の値を戻り値として返します。戻り値を持たないメソッドもありますが、大抵のメソッドは何らかの値を返します。  

例えば、先ほどの`add`メソッドは、引数`x`と`y`の和を返します。そのため、`add`メソッドを呼び出して得られた結果が戻り値です。  

メソッドが値を返さない場合、デフォルトで`nil`が返されます。これは、メソッドの最後に明示的に戻り値を指定しなかった場合や、メソッド内で`return`キーワードを使用しなかった場合に発生します。  
```rb
def say_hello
  puts "Hello, World!"  # このメソッドは値を返さない
end

result = say_hello
puts result  #=> nil
```

上記の例では、`say_hello`メソッドは値を返さず、`nil`が`result`に代入されています。  

引数と戻り値は、メソッドの柔軟性と再利用性を高める重要な概念です。適切に使用することで、効果的なプログラムを作成することができます。  

#####	(9)-2　定義  
#####	①　共通の定義方法  
・メソッド名は最初の文字を小文字（変数と同じ）にする  
・原則スネークケース(_でつなげる)にする  
```rb
# def メソッド名
#   処理内容
# end

def to_answer(answer)
	puts "答えは#{answer}です"
end

to_answer(8)  #=> 答えは8です
```
#####	②　インスタンスメソッド  
・クラス定義内で定義したメソッドがインスタンスメソッドになる  
・クラスから生成したインスタンスをレシーバにすることで実行できる  
```rb
# クラス定義内`class ~ end`で定義する
class Sample
	def to_answer(answer)
		puts "答えは#{answer}です"
	end
end

sample = Sample.new
sample.to_answer(8)  #=> 答えは8です
```
#####	③　クラスメソッド  
・メソッド定義時に、メソッド名にクラス名を紐付けるとクラスメソッドになる  
・クラス自体をレシーバにすることで実行できる  
```rb
# def クラス名.メソッド名
#   処理内容
# end

class Sample
end

def Sample.to_answer(answer)
	puts "答えは#{answer}です"
end

Sample.to_answer(8)  #=> 答えは8です
```
・一般的にはクラス定義内で定義することが多い  
・クラス定義内であれば、self（疑似変数）をクラス名の代わりとして使用できる  
```rb
class Sample
	def self.to_answer(answer)
		puts "答えは#{answer}です"
	end
end

Sample.to_answer(8)  #=> 答えは8です
```
・複数選択する場合は、`class << self ~ end`の間に書くとまとめて指定ができる  
```rb
class Sample
	class << self
		def to_questions(elem1, elem2)
			puts "#{elem1} + #{elem2} はいくつ？"
		end

		def to_answer(answer)
			puts "答えは#{answer}です"
		end
	end
end

Sample.to_questions(3, 5)  #=> 3 + 5 はいくつ？
Sample.to_answer(8)  #=> 答えは8です
```
#####	④　プライベートメソッド  
プライベートメソッドは、そのクラス内の他のメソッドからのみ呼び出されることが意図されています。プライベートメソッドを外部から呼び出すことはできません。一般的に、内部で使用される補助的なメソッドをプライベートメソッドとして定義します。  
・`private`と記述すると、ファイル内のそれより下のメソッドが全てプライベートメソッドになる  
・特殊なメソッド(`initialize`等)やトップレベルで定義したメソッドは、自動的にプライベートメソッドになる  
・レシーバを指定せずに実行する  
```rb
# private記述以降に定義する

private  # これ以降のメソッドがプライベートメソッドになる
def to_answer(answer)
	puts "答えは#{answer}です"
end

to_answer(8)  #=> 答えは8です
```


__【問題】__  
1. 与えられた2つの整数`a`と`b`の和を計算するコードを作成してください。  

2. 与えられた整数`num`が偶数であれば`true`、そうでなければ`false`を返すコードを作成してください。  

3. 与えられた2つの文字列`str1`と`str2`を連結して返すコードを作成してください。ただし、`+`演算子を使用してはいけません。  

4. 与えられた2つの整数`a`と`b`で`a`が`b`より大きいときに`true`、そうでなければ`false`を返すコードを作成してください。  

5. 与えられた整数`num`が偶数か奇数かを判定し、偶数ならば`"Even"`、奇数ならば`"Odd"`を返すコードを作成してください。  

6. 与えられた2つの整数`a`と`b`の大小を比較し、`a`が`b`より大きければ`"aはbより大きい"`、`b`が`a`より大きければ`"bはaより大きい"`、等しければ`"aとbは同じ"`を返すコードを作成してください。

7. 1から10までの整数を順番に出力するコードを作成してください。ただし、繰り返し処理には`while`を使用してください。

8. 与えられた配列`arr`の要素を順番に出力するコードを作成してください。ただし、`arr`の中身は文字列、繰り返し処理には`each`を使用してください。

9. 2つの整数`a`と`b`の和を計算するメソッド`add`を作成してください。

10. 与えられた配列`arr`の要素の平均を出力するメソッド`calculate_average`を作成してください。ただし、`arr`の中身は数値、メソッドは戻り値を返すようにしてください。


__【解答】__  
1. 解答例
```rb
a = 5
b = 10
puts  a + b
```

2. 解答例
```rb
num = 8
puts num % 2 == 0
```

3. 解答例
```rb
str1 = "abc"
str2 = "dfg"
puts str1 << str2
```

4. 解答例
```rb
a = 30
b = 10
puts a > b
```

5. 解答例
```rb
num = 10

if num % 2 == 0
  puts "Even"
else
  puts "Odd"
end
```

6. 解答例
```rb
a = 10
b = 20

if a > b
  puts "aはbより大きい"
elsif b > a
  puts "bはaより大きい"
else
  puts "aとbは同じ"
end
```

7. 解答例
```rb
num = 1

while num <= 10
  puts num
  num += 1
end
```

8. 解答例
```rb
arr = ["apple", "orange", "banana"]

arr.each do |elem|
  puts elem
end
```

9. 解答例
```rb
def add(a, b)
  a + b
end

puts add(100, 200)
```

10. 解答例
```rb
def calculate_average(arr)
  total = arr.sum
  average = total / arr.length
  return average
end

result = calculate_average([100, 200, 300, 400, 500])
puts result
```
